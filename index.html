<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>沖縄観光マップ</title>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --primary-color: #0066cc;
            --secondary-color: #e6f2ff;
            --card-bg: #f8f9fa;
            --border-color: #dee2e6;
            --area-1: #ff6b6b;
            --area-2: #4ecdc4;
            --area-3: #45b7d1;
            --area-4: #ffbe0b;
            --area-5: #ff9f1c;
            --area-6: #ee4266;
        }

        .dark-mode {
            --bg-color: #1a1a1a;
            --text-color: #f8f9fa;
            --primary-color: #4da6ff;
            --secondary-color: #003366;
            --card-bg: #2d2d2d;
            --border-color: #495057;
            --area-1: #FF5733;
            --area-2: #33FF57;
            --area-3: #3357FF;
            --area-4: #F3FF33;
            --area-5: #FF33F3;
            --area-6: #33FFF3;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 5px;
            font-size: 2.2rem;
        }
        
        .okinawa-map {
            width: 100%;
            height: 500px;
            background-color: var(--secondary-color);
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }
        
        .area {
            position: absolute;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            padding: 10px;
            box-sizing: border-box;
            border: 2px solid rgba(255,255,255,0.3);
        }
        
        .area:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 10;
            border-color: rgba(255,255,255,0.7);
        }
        
        .area-1 { background-color: var(--area-1); left: 50%; top: 5%; width: 30%; height: 30%; }
        .area-2 { background-color: var(--area-2); left: 15%; top: 20%; width: 35%; height: 15%; }
        .area-3 { background-color: var(--area-3); left: 40%; top: 35%; width: 25%; height: 18%; }
        .area-4 { background-color: var(--area-4); left: 30%; top: 50%; width: 60%; height: 15%; }
        .area-5 { background-color: var(--area-5); left: 25%; top: 65%; width: 30%; height: 15%; }
        .area-6 { background-color: var(--area-6); left: 20%; top: 80%; width: 50%; height: 15%; }
        
        #info-box {
            padding: 20px;
            background: var(--secondary-color);
            border-radius: 10px;
            margin-top: 25px;
            min-height: 120px;
            transition: all 0.3s ease;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
        }
        
        .mode-toggle, .lang-toggle {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .mode-toggle:hover, .lang-toggle:hover {
            background-color: #0052a3;
            transform: translateY(-2px);
        }
        
        .japanese {
            font-size: 0.85em;
            color: var(--text-color);
            opacity: 0.8;
            margin-top: 3px;
            font-style: normal;
        }
        
        .dark-mode .japanese {
            opacity: 0.7;
        }
        
        .spot-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            margin-top: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .spot-button:hover {
            background-color: #0052a3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .spot-button i {
            font-size: 1.1em;
        }
        
        .spot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .spot-item {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .spot-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            background-color: var(--secondary-color);
        }
        
        .spot-item h4 {
            margin: 0 0 5px 0;
            color: var(--primary-color);
        }
        
        .spot-item p {
            margin: 0;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .spot-detail {
            margin-top: 20px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .spot-detail h3 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .spot-detail .type {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-bottom: 10px;
        }
        
        .back-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background-color: #0052a3;
            transform: translateY(-2px);
        }
        
        .spot-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 6px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .spot-tips {
            background-color: var(--secondary-color);
            padding: 12px;
            border-radius: 6px;
            margin-top: 15px;
            border-left: 3px solid var(--primary-color);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .okinawa-map {
                height: 400px;
            }
            
            .spot-grid {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                width: 100%;
                justify-content: space-between;
                margin-top: 10px;
            }
            
            .mode-toggle, .lang-toggle {
                flex-grow: 1;
                text-align: center;
                justify-content: center;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="controls">
            <h1>
                <span class="english">Okinawa Travel Guide</span>
                <div class="japanese">沖縄観光ガイド</div>
            </h1>
            <div class="button-group">
                <button class="mode-toggle" onclick="toggleDarkMode()">
                    <i class="fas fa-moon"></i>
                    <span class="english">Dark Mode</span>
                    <span class="japanese">ダークモード</span>
                </button>
                <button class="lang-toggle" onclick="toggleLanguage()">
                    <i class="fas fa-language"></i>
                    <span class="english">日本語</span>
                    <span class="japanese">English</span>
                </button>
            </div>
        </div>
        
        <div class="okinawa-map">
            <!-- Area blocks -->
            <div class="area area-1" onclick="showAreaInfo('yanbaru')">
                <span class="english">Yanbaru</span>
                <span class="japanese">ヤンバル</span>
            </div>
            <div class="area area-2" onclick="showAreaInfo('motobu')">
                <span class="english">Motobu</span>
                <span class="japanese">本部半島</span>
            </div>
            <div class="area area-3" onclick="showAreaInfo('north-central')">
                <span class="english">North-Central</span>
                <span class="japanese">北中部</span>
            </div>
            <div class="area area-4" onclick="showAreaInfo('central')">
                <span class="english">Central</span>
                <span class="japanese">中部</span>
            </div>
            <div class="area area-5" onclick="showAreaInfo('naha')">
                <span class="english">Naha Area</span>
                <span class="japanese">那覇周辺</span>
            </div>
            <div class="area area-6" onclick="showAreaInfo('southern')">
                <span class="english">South</span>
                <span class="japanese">南部</span>
            </div>
        </div>
        
        <div id="info-box">
            <span class="english">Click on an area to show information</span>
            <div class="japanese">エリアをクリックすると情報が表示されます</div>
        </div>
	    </div>#80FF00#80FF00#80FF00
	
	    <script>
        // Area information in both languages
        const areaInfo = {
            'yanbaru': {
                en: {
                    title: "Yanbaru Region",
                    description: "The northern jungle area of Okinawa, known for its rich biodiversity and beautiful nature spots."
                },
                ja: {
                    title: "ヤンバル地域",
                    description: "沖縄北部の自然豊かな地域で、貴重な動植物が生息しています。"
                },
                spots: ['daisekirinzan', 'taa-taki'],
                image: "https://images.unsplash.com/photo-1621570351214-9b612c1a8d6f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'motobu': {
                en: {
                    title: "Motobu Peninsula",
                    description: "Famous for beautiful beaches and historical sites."
                },
                ja: {
                    title: "本部半島",
                    description: "美しいビーチと歴史的遺跡で有名な地域です。"
                },
                spots: ['seshoko-island', 'nakijin-castle'],
                image: "https://images.unsplash.com/photo-1566423479211-1b1bb46d559b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'north-central': {
                en: {
                    title: "North-Central Region",
                    description: "Known for luxury resorts and excellent snorkeling spots."
                },
                ja: {
                    title: "北中部",
                    description: "高級リゾートと素晴らしいシュノーケリングスポットがある地域です。"
                },
                spots: ['blue-cave', 'zampa-misaki'],
                image: "https://images.unsplash.com/photo-1581256309857-f422f362a0f9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'central': {
                en: {
                    title: "Central Region",
                    description: "Cultural heart of Okinawa with modern attractions."
                },
                ja: {
                    title: "中部",
                    description: "沖縄の文化的中心地で、現代的な観光スポットがあります。"
                },
                spots: ['kahou-banta', 'american-village'],
                image: "https://images.unsplash.com/photo-1553826059-7a090c4bd362?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'naha': {
                en: {
                    title: "Naha Area",
                    description: "The capital city with shopping, dining, and historical sites."
                },
                ja: {
                    title: "那覇周辺",
                    description: "県都那覇とその周辺の観光スポットがあります。"
                },
                spots: ['naminoue-shrine', 'naha-beach', 'omoro-new-town'],
                image: "https://images.unsplash.com/photo-1570586793459-8a1c62b7a3f8?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'southern': {
                en: {
                    title: "Southern Region",
                    description: "Peace memorial parks and stunning coastal views."
                },
                ja: {
                    title: "南部",
                    description: "平和記念公園と美しい海岸線が特徴の地域です。"
                },
                spots: ['kian-misaki', 'ou-island'],
                image: "https://images.unsplash.com/photo-1581256309857-f422f362a0f9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            }
        };

        // Spot information for each area
        const spotInfo = {
            // Yanbaru spots
            'daisekirinzan': {
                en: {
                    name: "Daisekirinzan",
                    type: "Geological Park",
                    description: "Spectacular rock formations created over millions of years with walking trails offering breathtaking views.",
                    tips: "Wear comfortable walking shoes as the terrain is uneven."
                },
                ja: {
                    name: "大石林山",
                    type: "地質公園",
                    description: "数百万年かけて形成された壮大な岩の造形で、美しい景色を楽しめる遊歩道があります。",
                    tips: "地面がでこぼこしているので、歩きやすい靴で行きましょう。"
                },
                image: "https://images.unsplash.com/photo-1605540436563-5bca919ae766?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'taa-taki': {
                en: {
                    name: "Taa Waterfall",
                    type: "Waterfall",
                    description: "Beautiful hidden waterfall in the Yanbaru forest with a clear pool perfect for swimming.",
                    tips: "The trail can be slippery after rain - bring appropriate footwear."
                },
                ja: {
                    name: "ター滝",
                    type: "滝",
                    description: "ヤンバルの森にある隠れた美しい滝で、水泳に最適な澄んだ滝つぼがあります。",
                    tips: "雨の後は道が滑りやすいので、適切な靴を持参しましょう。"
                },
                image: "https://images.unsplash.com/photo-1621569642780-4864752e847e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            
            // Motobu spots
            'seshoko-island': {
                en: {
                    name: "Sesoko Island",
                    type: "Island",
                    description: "Small island connected by bridge with beautiful beaches and coral reefs.",
                    tips: "Great for snorkeling - bring your own gear if possible."
                },
                ja: {
                    name: "瀬底島",
                    type: "島",
                    description: "橋でつながった小さな島で、美しいビーチとサンゴ礁があります。",
                    tips: "シュノーケリングに最適 - 可能なら自分の器材を持参しましょう。"
                },
                image: "https://images.unsplash.com/photo-1503917988258-f87a78e3c995?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'nakijin-castle': {
                en: {
                    name: "Nakijin Castle",
                    type: "Historic Site",
                    description: "Ruins of a Ryukyuan castle with beautiful stone walls and ocean views.",
                    tips: "Visit in the morning for cooler temperatures and fewer crowds."
                },
                ja: {
                    name: "今帰仁城",
                    type: "史跡",
                    description: "琉球王国の城跡で、美しい石垣と海の景色が楽しめます。",
                    tips: "涼しくて人が少ない朝方に訪れるのがおすすめです。"
                },
                image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            
            // North-Central spots
            'blue-cave': {
                en: {
                    name: "Blue Cave",
                    type: "Natural Wonder",
                    description: "Famous snorkeling spot where sunlight creates a magical blue illumination in the cave.",
                    tips: "Best visited between 10am-2pm when sunlight is strongest."
                },
                ja: {
                    name: "青の洞窟",
                    type: "自然景観",
                    description: "太陽光が洞窟内で魔法のような青い光を創り出す有名なシュノーケリングスポットです。",
                    tips: "日光が最も強い午前10時から午後2時までの訪問がベストです。"
                },
                image: "https://images.unsplash.com/photo-1560275619-4662e36fa65c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'zampa-misaki': {
                en: {
                    name: "Zampa Misaki",
                    type: "Scenic Cape",
                    description: "Beautiful cape with dramatic cliffs and famous heart-shaped rock formation.",
                    tips: "Great spot for sunset photos - bring your camera!"
                },
                ja: {
                    name: "残波岬",
                    type: "岬",
                    description: "ドラマチックな断崖と有名なハート形の岩がある美しい岬です。",
                    tips: "夕日の写真撮影に最適 - カメラを持っていきましょう！"
                },
                image: "https://images.unsplash.com/photo-1505118380757-91f5f5632de0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            
            // Central spots
            'kahou-banta': {
                en: {
                    name: "Kahou Banta",
                    type: "Scenic Cliff",
                    description: "Spectacular cliff with ocean views, popular for photography and sunsets.",
                    tips: "Be careful near the cliff edges as there are no fences."
                },
                ja: {
                    name: "果報バンタ",
                    type: "絶景崖",
                    description: "海の景色が楽しめる壮観な崖で、写真撮影や夕日鑑賞に人気です。",
                    tips: "柵がないので崖の端には注意しましょう。"
                },
                image: "https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'american-village': {
                en: {
                    name: "American Village",
                    type: "Shopping/Entertainment",
                    description: "Colorful American-themed complex with shops, restaurants and a Ferris wheel.",
                    tips: "Visit in the evening when the lights create a fun atmosphere."
                },
                ja: {
                    name: "アメリカンビレッジ",
                    type: "ショッピング/エンターテインメント",
                    description: "ショップやレストラン、観覧車があるアメリカンなテーマの複合施設です。",
                    tips: "ライトアップされて楽しい雰囲気になる夜に訪れましょう。"
                },
                image: "https://images.unsplash.com/photo-1518391846015-55a9cc003b25?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            
            // Naha spots
            'naminoue-shrine': {
                en: {
                    name: "Naminoue Shrine",
                    type: "Shrine",
                    description: "Beautiful shrine perched on cliffs overlooking the ocean, important in Ryukyuan religion.",
                    tips: "Try the unique Okinawan ema (wooden prayer plaques)."
                },
                ja: {
                    name: "波の上神社",
                    type: "神社",
                    description: "海を見下ろす崖の上にある美しい神社で、琉球の宗教において重要です。",
                    tips: "沖縄独特の絵馬を試してみましょう。"
                },
                image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'naha-beach': {
                en: {
                    name: "Naha Beach",
                    type: "City Beach",
                    description: "Convenient beach in central Naha, great for a quick swim with city views.",
                    tips: "Not the most beautiful beach but very accessible from downtown."
                },
                ja: {
                    name: "那覇ビーチ",
                    type: "都市ビーチ",
                    description: "那覇中心部にある便利なビーチで、街の景色を眺めながら手軽に泳げます。",
                    tips: "最も美しいビーチではありませんが、ダウンタウンから非常にアクセスしやすいです。"
                },
                image: "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'omoro-new-town': {
                en: {
                    name: "Omoro New Town",
                    type: "Shopping District",
                    description: "Modern shopping and entertainment district with department stores and restaurants.",
                    tips: "Great place to shop for souvenirs and try Okinawan cuisine."
                },
                ja: {
                    name: "おもろまち新都心",
                    type: "ショッピング地区",
                    description: "デパートやレストランが並ぶ現代的なショッピング・エンターテインメント地区です。",
                    tips: "お土産を買ったり沖縄料理を試すのに最適な場所です。"
                },
                image: "https://images.unsplash.com/photo-1533107862482-0e6974b06ec4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            
            // Southern spots
            'kian-misaki': {
                en: {
                    name: "Kian Misaki",
                    type: "Scenic Cape",
                    description: "Dramatic cliffs with stunning ocean views, marking Okinawa's southernmost point.",
                    tips: "Very windy - hold onto your hats and be careful near the edges."
                },
                ja: {
                    name: "喜屋武岬",
                    type: "岬",
                    description: "沖縄最南端を示す、素晴らしい海の景色が楽しめるドラマチックな断崖です。",
                    tips: "風が非常に強い - 帽子が飛ばされないようにし、崖の端に注意しましょう。"
                },
                image: "https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            },
            'ou-island': {
                en: {
                    name: "Ou Island",
                    type: "Small Island",
                    description: "Tiny island connected by bridge, famous for its tempura food stalls and relaxed atmosphere.",
                    tips: "Try the island's famous tempura - best enjoyed fresh from the fryer."
                },
                ja: {
                    name: "奥武島",
                    type: "小島",
                    description: "橋でつながった小さな島で、天ぷらの屋台とゆったりした雰囲気で有名です。",
                    tips: "島の名物天ぷらを試しましょう - 揚げたてが一番おいしいです。"
                },
                image: "https://images.unsplash.com/photo-1506477331477-33d5d8b3dc85?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
            }
        };

        let currentLanguage = 'en';
        let currentView = 'area'; // 'area', 'spots', or 'detail'
        let currentArea = null;
        let currentSpot = null;

        function showAreaInfo(areaId) {
            currentView = 'area';
            currentArea = areaId;
            currentSpot = null;
            
            const info = areaInfo[areaId][currentLanguage];
            const altLang = currentLanguage === 'en' ? 'ja' : 'en';
            const altInfo = areaInfo[areaId][altLang];
            
            document.getElementById('info-box').innerHTML = `
                <h3>${info.title}</h3>
                <p>${info.description}</p>
                <div class="japanese">
                    <strong>${altInfo.title}</strong>
                    <p>${altInfo.description}</p>
                </div>
                <button class="spot-button" onclick="showSpots('${areaId}')">
                    <i class="fas fa-map-marked-alt"></i>
                    <span class="english">Explore Tourist Spots</span>
                    <span class="japanese">観光スポットを見る</span>
                </button>
                ${areaInfo[areaId].image ? `<img src="${areaInfo[areaId].image}" class="spot-image" alt="${info.title}">` : ''}
            `;
            
            updateLanguageDisplay();
        }
        
        function showSpots(areaId) {
            currentView = 'spots';
            currentArea = areaId;
            
            const spots = areaInfo[areaId].spots;
            const areaName = areaInfo[areaId][currentLanguage].title;
            
            let spotsHTML = `
                <h3>
                    <span class="english">Tourist Spots in ${areaName}</span>
                    <span class="japanese">${areaName}の観光スポット</span>
                </h3>
                <div class="spot-grid">
            `;
            
            spots.forEach(spotId => {
                const spot = spotInfo[spotId][currentLanguage];
                spotsHTML += `
                    <div class="spot-item" onclick="showSpotDetail('${areaId}', '${spotId}')">
                        <h4>${spot.name}</h4>
                        <p><em>${spot.type}</em></p>
                    </div>
                `;
            });
            
            spotsHTML += `
                </div>
                <button class="back-button" onclick="showAreaInfo('${areaId}')">
                    <i class="fas fa-arrow-left"></i>
                    <span class="english">Back to Area</span>
                    <span class="japanese">エリアに戻る</span>
                </button>
            `;
            
            document.getElementById('info-box').innerHTML = spotsHTML;
            updateLanguageDisplay();
        }
        
        function showSpotDetail(areaId, spotId) {
            currentView = 'detail';
            currentArea = areaId;
            currentSpot = spotId;
            
            const spot = spotInfo[spotId][currentLanguage];
            const altLang = currentLanguage === 'en' ? 'ja' : 'en';
            const altSpot = spotInfo[spotId][altLang];
            
            document.getElementById('info-box').innerHTML = `
                <div class="spot-detail">
                    <h3>${spot.name}</h3>
                    <span class="type">${spot.type}</span>
                    <p>${spot.description}</p>
                    
                    ${spot.tips ? `
                    <div class="spot-tips">
                        <strong><i class="fas fa-lightbulb"></i> ${currentLanguage === 'en' ? 'Tips:' : 'ヒント:'}</strong>
                        <p>${spot.tips}</p>
                    </div>
                    ` : ''}
                    
                    <div class="japanese">
                        <h4>${altSpot.name}</h4>
                        <span class="type">${altSpot.type}</span>
                        <p>${altSpot.description}</p>
                        ${altSpot.tips ? `
                        <div class="spot-tips">
                            <strong><i class="fas fa-lightbulb"></i> ヒント:</strong>
                            <p>${altSpot.tips}</p>
                        </div>
                        ` : ''}
                    </div>
                    
                    ${spotInfo[spotId].image ? `<img src="${spotInfo[spotId].image}" class="spot-image" alt="${spot.name}">` : ''}
                </div>
                
                <button class="back-button" onclick="showSpots('${areaId}')">
                    <i class="fas fa-arrow-left"></i>
                    <span class="english">Back to Spots</span>
                    <span class="japanese">スポット一覧に戻る</span>
                </button>
            `;
            
            updateLanguageDisplay();
        }
        
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            // Save preference to localStorage
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        }
        
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'ja' : 'en';
            // Save preference to localStorage
            localStorage.setItem('language', currentLanguage);
            
            // Refresh current view
            if (currentView === 'area' && currentArea) {
                showAreaInfo(currentArea);
            } else if (currentView === 'spots' && currentArea) {
                showSpots(currentArea);
            } else if (currentView === 'detail' && currentArea && currentSpot) {
                showSpotDetail(currentArea, currentSpot);
            }
            
            updateLanguageDisplay();
        }
        
        function updateLanguageDisplay() {
            const englishElements = document.querySelectorAll('.english');
            const japaneseElements = document.querySelectorAll('.japanese');
            
            if (currentLanguage === 'en') {
                englishElements.forEach(el => el.style.display = '');
                japaneseElements.forEach(el => el.style.display = 'none');
            } else {
                englishElements.forEach(el => el.style.display = 'none');
                japaneseElements.forEach(el => el.style.display = '');
            }
            
            // Always show both languages in the info box Japanese section
            const infoBoxJapanese = document.querySelectorAll('#info-box .japanese');
            infoBoxJapanese.forEach(el => el.style.display = '');
        }
        
        // Initialize
        function init() {
            // Load dark mode preference
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
            }
            
            // Load language preference
            if (localStorage.getItem('language')) {
                currentLanguage = localStorage.getItem('language');
            }
            
            updateLanguageDisplay();
        }
        
        // Initialize on page load
        init();
    </script>
</body>
</html>